(()=>{"use strict";var t=new Map([[169,new function(){this.method=function(t,e,r){var n=r[0];return t.setAreg(n),n},this.numArgs=1}((function(t,e,r){var n=r[0];return t.setAreg(n),n}),1)]]),e=function(){function e(){this.Areg=0,this.Xreg=0,this.Yreg=0,this.PC=32768,this.SP=0,this.Cflag=!1,this.Zflag=!1,this.Nflag=!1}return e.prototype.executeOperation=function(e){var r=e.read(this.PC);if(t.has(r)){for(var n=t.get(r),o=new Uint8Array(n.numArgs),i=0;i<n.numArgs;i++)o[i]=e.read(this.PC+i+1);n.method(this,e,o),this.PC+=n.numArgs+1}else console.log("Invalid or unimplemented opcode: ".concat(r))},e.prototype.setAreg=function(t){this.Areg=t,this.setFlags(t)},e.prototype.setXreg=function(t){this.Xreg=t,this.setFlags(t)},e.prototype.setYreg=function(t){this.Yreg=t,this.setFlags(t)},e.prototype.getAreg=function(){return this.Areg},e.prototype.getXreg=function(){return this.Xreg},e.prototype.getYreg=function(){return this.Yreg},e.prototype.setFlags=function(t){if(-1!==t){var e=t;this.Cflag=e>255,this.Zflag=0===e,this.Nflag=!(128&~e)}},e}(),r=function(){function t(){this.memory=new Uint8Array(2048).fill(0)}return t.prototype.loadProgram=function(t){for(var e=0;e<t.length;e++)this.write(32768+e,t[e])},t.prototype.read=function(t){return this.memory[t]},t.prototype.write=function(t,e){this.memory[t]=e},t}(),n=new Uint8Array([169,105]),o=new e,i=new r;i.loadProgram(n),console.log(i.read(0)),setInterval((function(){console.log(o.getAreg()),o.executeOperation(i)}),500)})();